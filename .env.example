# ============================================================================
# Nubicustos - Environment Configuration
# ============================================================================
# Copy this file to .env and update with your actual values
# DO NOT commit .env to version control

# ============================================================================
# Database Configuration
# ============================================================================

# PostgreSQL
POSTGRES_DB=security_audits
POSTGRES_USER=auditor
POSTGRES_PASSWORD=changeme_strong_password_here
POSTGRES_PORT=5432

# Neo4j
NEO4J_PASSWORD=changeme_strong_password_here
NEO4J_HTTP_PORT=7474
NEO4J_BOLT_PORT=7687

# Neo4j Sync Service (API connection to Neo4j)
# Used for PostgreSQL <-> Neo4j asset synchronization
NEO4J_URI=bolt://neo4j:7687
NEO4J_USER=neo4j

# ============================================================================
# Web Interface
# ============================================================================

NGINX_PORT=8080

# ============================================================================
# REST API Configuration
# ============================================================================

API_PORT=8000
API_KEY=
API_CORS_ORIGINS=http://localhost:8080,http://localhost:3000

# Logging Configuration
# Format: json (structured) or text (human-readable)
LOG_FORMAT=json
# Level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Graceful Shutdown
# Seconds to wait for in-flight requests before forcing shutdown
SHUTDOWN_TIMEOUT=30

# ============================================================================
# Grafana Dashboard
# ============================================================================

GRAFANA_PORT=3000
GRAFANA_USER=admin
GRAFANA_PASSWORD=admin

# ============================================================================
# Remediation Engine
# ============================================================================

# Set to 'false' to actually execute remediation scripts
DRY_RUN=true

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# ============================================================================
# Tool-Specific Settings
# ============================================================================

# Prowler
PROWLER_OUTPUT_MODES=json,html,csv
PROWLER_SEVERITY=critical,high,medium,low

# ScoutSuite
SCOUTSUITE_REPORT_NAME=security-audit

# Kubescape
KUBESCAPE_FRAMEWORK=nsa,mitre,cis

# Trivy
TRIVY_SEVERITY=CRITICAL,HIGH,MEDIUM
TRIVY_IGNORE_UNFIXED=false

# Checkov
CHECKOV_FRAMEWORK=terraform,cloudformation,kubernetes,helm,arm

# ============================================================================
# Cloud Provider Configuration
# ============================================================================

# AWS
AWS_DEFAULT_REGION=us-east-1
AWS_PROFILE=default

# Azure
AZURE_SUBSCRIPTION_ID=
AZURE_TENANT_ID=

# GCP
GCP_PROJECT_ID=

# ============================================================================
# Scanning Configuration
# ============================================================================

# Maximum age of reports to keep (days)
REPORT_RETENTION_DAYS=90

# Enable/Disable specific tools
ENABLE_PROWLER=true
ENABLE_SCOUTSUITE=true
ENABLE_PACU=false
ENABLE_CLOUDSPLOIT=true
ENABLE_CUSTODIAN=true
ENABLE_KUBE_BENCH=true
ENABLE_KUBESCAPE=true
ENABLE_KUBE_HUNTER=false
ENABLE_TRIVY=true
ENABLE_GRYPE=true
ENABLE_CHECKOV=true
ENABLE_TERRASCAN=true
ENABLE_TFSEC=true
ENABLE_CARTOGRAPHY=true
ENABLE_KUBE_LINTER=true
ENABLE_POLARIS=true

# ============================================================================
# Notification Settings (Future Use)
# ============================================================================

# SLACK_WEBHOOK_URL=
# TEAMS_WEBHOOK_URL=
# EMAIL_SMTP_SERVER=
# EMAIL_FROM=
# EMAIL_TO=

# ============================================================================
# Docker Host Paths (Required for on-demand image building)
# ============================================================================

# Host path to the project root directory
# This is needed so the API can build Docker images for tools like CloudFox
# when they are run on-demand (without using Docker Compose profiles)
# Example on Windows: C:\Users\username\Documents\Cloud-Stack
# Example on Linux/Mac: /home/username/Cloud-Stack
HOST_PROJECT_PATH=

# Host path to the reports directory (usually ${HOST_PROJECT_PATH}/reports)
HOST_REPORTS_PATH=

# ============================================================================
# Advanced Settings
# ============================================================================

# Docker resource limits
MEMORY_LIMIT=8G
CPU_LIMIT=4

# Parallel execution
MAX_CONCURRENT_SCANS=3

# Network timeout (seconds)
NETWORK_TIMEOUT=300
