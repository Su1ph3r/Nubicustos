# Default values for vulnerable-app
# This chart is intentionally vulnerable for testing security scanners

replicaCount: 1

image:
  # VULN: Using latest tag
  repository: nginx
  tag: latest
  pullPolicy: Always

# VULN: Hardcoded credentials in values
credentials:
  database:
    username: admin
    password: SuperSecretPassword123!
    host: db.example.com
  aws:
    accessKeyId: AKIAIOSFODNN7EXAMPLE
    secretAccessKey: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
  apiKeys:
    stripe: sk_live_1234567890abcdef
    github: ghp_1234567890abcdefghijklmnopqrstuvwxyz

# VULN: No resource limits
resources: {}
  # limits:
  #   cpu: 100m
  #   memory: 128Mi
  # requests:
  #   cpu: 100m
  #   memory: 128Mi

# VULN: Privileged security context
securityContext:
  privileged: true
  runAsUser: 0
  runAsGroup: 0
  readOnlyRootFilesystem: false
  allowPrivilegeEscalation: true
  capabilities:
    add:
      - ALL

# VULN: Host access enabled
hostNetwork: true
hostPID: true
hostIPC: true

# VULN: Service exposed as LoadBalancer
service:
  type: LoadBalancer
  port: 80

# VULN: No TLS on ingress
ingress:
  enabled: true
  tls: []
  hosts:
    - host: vulnerable-app.local
      paths:
        - path: /
          pathType: Prefix

# VULN: Mounting sensitive host paths
volumes:
  - name: host-root
    hostPath:
      path: /
  - name: docker-socket
    hostPath:
      path: /var/run/docker.sock

# VULN: No probes defined
livenessProbe: {}
readinessProbe: {}

# VULN: No network policies
networkPolicy:
  enabled: false

# VULN: No pod disruption budget
podDisruptionBudget:
  enabled: false

# VULN: Service account with auto-mount
serviceAccount:
  create: true
  automountServiceAccountToken: true
